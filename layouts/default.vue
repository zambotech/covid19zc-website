<template>
  <div class="relative overflow-hidden">
    <Notification />
    <div class="px-8 md:px-16 lg:px-24">
      <nav class="flex justify-between items-center pt-8 md:pt-12">
        <div class="text-purple-900">
          <p class="font-bold text-xs md:text-sm">COVID-19 Tracker</p>
          <p class="font-bold text-2xl md:text-3xl leading-none">Zamboanga City</p>
        </div>
        <div class="hidden md:block flex items-center text-primary font-bold">
          <nuxt-link exact to="/" class="nav-link px-4 py-2 relative">Home</nuxt-link>
          <nuxt-link exact to="/cases" class="nav-link px-4 py-2 relative">Cases</nuxt-link>
          <nuxt-link exact to="/stats" class="nav-link px-4 py-2 relative">Stats</nuxt-link>
          <nuxt-link exact to="/symptoms" class="nav-link px-4 py-2 relative">Symptoms</nuxt-link>
        </div>
        <div @click="isMobileNavActive = !isMobileNavActive" v-click-outside="onClickOutside" class="mobile-navbar-container cursor-pointer block md:hidden relative outline-none">
          <svg width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="5" cy="5" r="5" fill="#FF5A6F"/>
            <circle cx="5" cy="22" r="5" fill="#FF5A6F"/>
            <circle cx="22" cy="5" r="5" fill="#FF5A6F"/>
            <circle cx="22" cy="22" r="5" fill="#FF5A6F"/>
          </svg>
          <transition name="fade">
            <div v-if="isMobileNavActive" class="mobile-navbar absolute right-0 p-6 mt-4 bg-white shadow-md rounded-lg text-primary font-bold">
              <nuxt-link exact to="/" class="mobile-nav-link inline-block p-2 relative">Home</nuxt-link>
              <nuxt-link exact to="/cases" class="mobile-nav-link inline-block p-2 relative">Cases</nuxt-link>
              <nuxt-link exact to="/stats" class="mobile-nav-link inline-block p-2 relative">Stats</nuxt-link>
              <nuxt-link exact to="/symptoms" class="mobile-nav-link inline-block p-2 relative">Symptoms</nuxt-link>
            </div>
          </transition>
        </div>
      </nav>
      <nuxt />
      <footer class="flex text-purple-900 mb-8 text-xs md:text-sm">
        Made by Zamboanga Tech Community for Zamboangue√±os
      </footer>
    </div>
    <div class="absolute virus-illustration transform origin-bottom-right scale-50 md:scale-75 lg:scale-100 -z-10">
      <svg width="512" height="512" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0)">
          <path d="M511.844 234.664C510.775 220.787 504.502 208.387 494.183 199.747C484.522 191.66 472.382 187.89 459.997 189.133C443.105 190.827 428.227 201.877 420.893 217.785L405.541 219.141L390.389 214.894C389.212 214.564 388.262 213.631 387.848 212.399C383.445 199.3 377.16 186.931 369.153 175.601L374.515 161.184L391.439 142.88C401.064 142.557 410.016 138.314 416.435 130.916C428.049 117.528 427.567 97.0106 415.334 84.2068C408.62 77.1803 399.576 73.3288 389.904 73.4323C380.353 73.5102 371.159 77.5749 364.677 84.586C358.328 91.4527 355.077 100.409 355.481 109.629L338.555 127.936L324.373 134.515C303.22 122.15 279.199 115.462 254.628 115.106L245.355 100.317L242.085 84.0654C255.114 73.4118 261.202 56.8642 257.72 40.5625C252.495 16.0998 227.305 0.164999 201.571 5.04648C188.615 7.50208 177.591 14.707 170.531 25.3308C163.918 35.2834 161.633 47.1238 164.1 58.67C167.388 74.0647 178.548 86.4831 193.73 92.0235L197.343 109.977L194.469 127.477C181.379 133.332 169.307 141.095 158.492 150.608L147.862 148.715L135.85 139.653C134.134 130.53 128.868 122.499 121.044 117.25C106.443 107.452 86.808 110.132 75.3724 123.483C69.051 130.864 66.1444 140.233 67.1888 149.86C68.2188 159.355 73.1812 168.098 80.8032 173.849C88.6845 179.794 98.7078 182.062 108.302 180.218L118.367 187.811L122.882 197.05C123.081 197.459 123.087 197.93 122.897 198.342C114.287 217.063 109.922 237.051 109.922 257.749C109.922 261.58 110.081 265.474 110.393 269.324C110.442 269.918 110.207 270.462 109.764 270.776L92.7666 282.887L73.3657 288.99C61.4536 279.774 45.7023 276.99 31.2044 281.781C30.9143 281.878 30.6284 281.981 30.3435 282.087L30.1037 282.175C26.1097 283.614 24.0385 288.018 25.4764 292.012C26.9143 296.004 31.3161 298.078 35.3131 296.639L35.6728 296.508C35.7938 296.464 35.9147 296.417 36.0346 296.378C46.6226 292.877 58.2242 295.481 66.3135 303.172C67.7637 304.551 69.6669 305.288 71.6101 305.288C72.3808 305.288 73.1587 305.172 73.9161 304.933L98.5418 297.186C99.3114 296.944 100.038 296.583 100.696 296.114L118.685 283.297C123.508 279.862 126.202 274.029 125.716 268.076C125.438 264.639 125.295 261.165 125.295 257.748C125.295 239.283 129.188 221.456 136.865 204.764C138.989 200.143 138.928 194.871 136.695 190.3L131.372 179.407C130.841 178.32 130.061 177.375 129.095 176.646L114.625 165.73C112.631 164.225 110.029 163.783 107.652 164.546C101.65 166.468 95.0756 165.357 90.063 161.576C85.7513 158.324 83.0569 153.573 82.4738 148.201C81.8916 142.835 83.5171 137.608 87.0498 133.483C93.3118 126.172 104.482 124.648 112.48 130.015C117.411 133.324 120.522 138.606 121.017 144.509C121.2 146.688 122.301 148.687 124.048 150.004L140.075 162.095C141.04 162.824 142.165 163.314 143.355 163.526L159.503 166.404C161.88 166.828 164.313 166.111 166.08 164.471C177.33 154.032 190.188 145.794 204.3 139.986C206.764 138.971 208.527 136.753 208.959 134.123L212.743 111.084C212.893 110.168 212.876 109.232 212.693 108.322L207.906 84.5297C207.325 81.6405 205.143 79.3376 202.289 78.6028C190.402 75.5405 181.531 66.6722 179.137 55.4611C177.542 47.9959 179.034 40.3176 183.339 33.8404C188.089 26.6918 195.583 21.8298 204.439 20.1511C222.039 16.8182 239.197 27.4123 242.69 43.7734C245.192 55.4898 239.98 67.4757 229.41 74.3096C226.759 76.0242 225.425 79.186 226.049 82.2811L230.565 104.726C230.749 105.636 231.095 106.505 231.588 107.292L242.69 125.003C244.835 128.423 248.523 130.465 252.577 130.465H252.582C275.717 130.465 298.389 136.77 318.15 148.699C321.462 150.699 325.528 150.925 329.025 149.305L346.404 141.243C347.314 140.821 348.133 140.224 348.813 139.489L369.106 117.54C370.698 115.818 371.417 113.464 371.058 111.146C370.147 105.259 371.936 99.3822 375.967 95.0234C379.633 91.0581 384.629 88.8505 390.032 88.8054C395.414 88.8044 400.469 90.8993 404.221 94.8276C411.031 101.956 411.297 113.382 404.825 120.841C400.766 125.519 394.894 127.933 388.712 127.469C386.374 127.292 384.081 128.194 382.491 129.916L362.198 151.865C361.517 152.601 360.987 153.464 360.637 154.404L354.04 172.142C352.684 175.788 353.249 179.85 355.549 183.01C363.195 193.515 369.16 205.051 373.277 217.299C375.313 223.359 380.16 227.995 386.243 229.699L402.746 234.324C403.64 234.576 404.572 234.661 405.497 234.58L426.93 232.687C429.945 232.42 432.523 230.41 433.516 227.551C437.954 214.768 448.952 205.692 461.534 204.431C469.763 203.605 477.857 206.129 484.318 211.537C491.438 217.498 495.772 226.132 496.52 235.846C497.014 242.266 495.854 248.713 493.165 254.49C491.373 258.338 493.04 262.91 496.889 264.703C500.74 266.494 505.311 264.828 507.102 260.978C510.899 252.81 512.54 243.711 511.844 234.664Z" fill="#FED7D7"/>
          <path d="M473.158 272.724C471.001 273.435 468.775 273.908 466.543 274.133C453.241 275.464 440.808 268.098 434.857 255.362C433.488 252.435 430.433 250.673 427.216 250.96L407.096 252.737C406.17 252.819 405.268 253.067 404.432 253.471L389.245 260.798C383.491 263.573 379.521 269.056 378.626 275.464C377.293 284.998 374.866 294.382 371.411 303.353C369.349 308.708 369.757 314.624 372.531 319.584L377.94 329.257C378.53 330.312 379.362 331.214 380.367 331.887L395.42 341.986C397.494 343.378 400.116 343.674 402.449 342.783C408.333 340.531 414.96 341.275 420.175 344.774C424.659 347.782 427.614 352.376 428.493 357.707C429.371 363.032 428.039 368.342 424.739 372.657C418.891 380.305 407.824 382.444 399.54 377.528C394.435 374.498 391.034 369.395 390.213 363.528C389.91 361.363 388.698 359.429 386.882 358.211L370.21 347.026C369.205 346.351 368.055 345.924 366.855 345.779L356.361 344.503C350.492 343.787 344.64 345.746 340.31 349.873C331.906 357.88 322.469 364.701 312.262 370.144C306.326 373.309 302.374 379.485 301.95 386.259L300.618 407.519C300.569 408.311 300.642 409.108 300.837 409.877L307.434 436.059C308.107 438.733 310.162 440.841 312.817 441.583C321.768 444.087 328.737 451.228 331.003 460.219C332.728 467.065 331.637 474.147 327.93 480.159C324.226 486.168 318.383 490.324 311.476 491.862C298.6 494.732 285.314 487.169 281.235 474.648C278.154 465.19 280.643 454.993 287.728 448.036C289.676 446.124 290.463 443.321 289.796 440.674L283.158 414.332C282.964 413.563 282.651 412.827 282.232 412.153L271.999 395.692C267.851 389.019 260.626 385.037 252.591 385.037C252.586 385.037 252.581 385.037 252.574 385.037C244.263 385.037 235.942 384.225 227.841 382.622C220.12 381.093 212.311 383.559 206.953 389.213L193.423 403.491C192.876 404.068 192.422 404.725 192.077 405.441L176.931 436.864C175.905 438.993 175.916 441.476 176.959 443.596C179.612 448.987 179.643 455.172 177.043 460.567C174.696 465.436 170.562 469.011 165.403 470.633C160.247 472.254 154.798 471.677 150.059 469.011C141.724 464.32 138.037 453.71 141.665 444.858C144.085 438.956 149.029 434.744 155.231 433.301C157.497 432.774 159.403 431.248 160.413 429.152L175.657 397.527C176.002 396.811 176.234 396.047 176.344 395.261L179.331 374.029C180.256 367.453 177.653 360.792 172.539 356.645C161.019 347.304 151.293 336.156 143.629 323.511C140.272 317.972 134.122 314.491 127.58 314.43L106.385 314.228C105.576 314.218 104.775 314.339 104.005 314.581L80.8001 321.882C77.8987 322.795 75.808 325.332 75.4677 328.355C74.1333 340.213 65.9241 350.188 54.5531 353.764C38.8715 358.698 21.9549 350.001 16.85 334.375C14.8207 328.163 14.8863 321.571 17.0416 315.311C18.4231 311.297 16.2894 306.922 12.2749 305.541C8.25946 304.157 3.88632 306.294 2.50479 310.308C-0.747144 319.757 -0.840407 329.73 2.23627 339.149C8.48186 358.266 26.4284 370.516 45.6141 370.515C50.1072 370.515 54.672 369.843 59.166 368.428C74.6929 363.541 86.3129 350.767 89.8887 335.134L107.461 329.606L127.438 329.796C128.699 329.808 129.867 330.451 130.486 331.473C139.069 345.636 149.962 358.121 162.86 368.581C163.81 369.351 164.29 370.616 164.111 371.883L161.292 391.929L148.047 419.409C138.772 422.691 131.223 429.811 127.445 439.026C120.818 455.19 127.301 473.841 142.524 482.407C151.002 487.179 160.768 488.205 170.017 485.297C179.136 482.43 186.747 475.849 190.896 467.24C194.992 458.742 195.453 449.16 192.291 440.411L205.411 413.193L218.117 399.784C219.825 397.981 222.346 397.202 224.862 397.7C233.942 399.496 243.267 400.408 252.669 400.408H252.675C255.28 400.408 257.626 401.678 258.948 403.807L268.549 419.25L273.887 440.431C264.999 451.278 262.198 465.824 266.622 479.409C272.198 496.527 288.552 507.835 306.038 507.834C308.949 507.834 311.893 507.52 314.822 506.868C325.815 504.42 335.12 497.8 341.021 488.227C346.924 478.651 348.662 467.37 345.913 456.464C342.681 443.639 333.45 433.179 321.327 428.269L316.04 407.283L317.296 387.22C317.39 385.729 318.234 384.384 319.499 383.709C330.934 377.61 341.505 369.971 350.918 361.003C351.909 360.059 353.218 359.609 354.509 359.765L363.177 360.819L375.672 369.202C377.891 378.215 383.594 385.941 391.697 390.75C406.819 399.723 426.274 395.961 436.952 381.996C442.857 374.275 445.24 364.761 443.662 355.205C442.108 345.783 436.669 337.327 428.74 332.008C420.542 326.509 410.408 324.8 400.931 327.172L390.461 320.147L385.951 312.082C385.415 311.122 385.345 309.955 385.759 308.879C389.635 298.814 392.358 288.287 393.852 277.593C394.035 276.286 394.811 275.184 395.926 274.646L409.849 267.929L423.517 266.722C433.018 282.446 449.97 291.248 468.078 289.431C471.42 289.096 474.746 288.389 477.965 287.33C481.998 286.003 484.19 281.658 482.863 277.625C481.536 273.589 477.19 271.398 473.158 272.724Z" fill="#FED7D7"/>
          <path d="M277.274 152.973C269.215 151.08 260.907 150.121 252.578 150.121C193.232 150.121 144.949 198.403 144.949 257.75C144.949 317.097 193.231 365.379 252.578 365.379C311.926 365.379 360.208 317.097 360.208 257.75C360.208 220.643 341.464 186.627 310.069 166.752C306.481 164.481 301.731 165.549 299.462 169.135C297.191 172.722 298.259 177.47 301.846 179.742C328.765 196.781 344.835 225.944 344.835 257.75C344.835 308.62 303.449 350.006 252.578 350.006C201.708 350.006 160.322 308.621 160.322 257.75C160.322 206.879 201.708 165.494 252.578 165.494C259.725 165.494 266.851 166.317 273.76 167.939C277.893 168.913 282.029 166.346 283 162.214C283.97 158.081 281.406 153.944 277.274 152.973Z" fill="#FED7D7"/>
          <path d="M84.4139 83.7354C104.347 83.7354 120.562 67.5198 120.562 47.587C120.562 27.6542 104.347 11.4386 84.4139 11.4386C64.4811 11.4386 48.2655 27.6552 48.2655 47.588C48.2655 67.5198 64.4811 83.7354 84.4139 83.7354ZM84.4139 26.8128C95.8689 26.8128 105.189 36.133 105.189 47.588C105.189 59.0431 95.8689 68.3633 84.4139 68.3633C72.9588 68.3633 63.6386 59.0431 63.6386 47.588C63.6386 36.133 72.9588 26.8128 84.4139 26.8128Z" fill="#FED7D7"/>
          <path d="M76.634 396.271C62.0295 396.271 50.1471 408.152 50.1471 422.757C50.1471 437.361 62.0285 449.244 76.634 449.244C91.2384 449.244 103.12 437.362 103.12 422.757C103.12 408.154 91.2384 396.271 76.634 396.271ZM76.634 433.871C70.5062 433.871 65.5202 428.886 65.5202 422.757C65.5202 416.629 70.5052 411.644 76.634 411.644C82.7617 411.644 87.7467 416.629 87.7467 422.757C87.7467 428.886 82.7617 433.871 76.634 433.871Z" fill="#FED7D7"/>
          <path d="M421.801 418.263C402.294 418.263 386.424 434.132 386.424 453.639C386.424 473.147 402.293 489.016 421.801 489.016C441.308 489.016 457.177 473.147 457.177 453.639C457.177 434.132 441.307 418.263 421.801 418.263ZM421.801 473.642C410.771 473.642 401.797 464.669 401.797 453.638C401.797 442.608 410.77 433.635 421.801 433.635C432.831 433.635 441.804 442.608 441.804 453.638C441.804 464.669 432.83 473.642 421.801 473.642Z" fill="#FED7D7"/>
          <path d="M255.402 230.188C255.402 211.715 240.373 196.686 221.9 196.686C203.426 196.686 188.398 211.715 188.398 230.188C188.398 248.661 203.426 263.69 221.9 263.69C240.373 263.69 255.402 248.66 255.402 230.188ZM221.9 248.317C211.903 248.317 203.771 240.185 203.771 230.188C203.771 220.191 211.903 212.059 221.9 212.059C231.896 212.059 240.029 220.191 240.029 230.188C240.029 240.185 231.896 248.317 221.9 248.317Z" fill="#FED7D7"/>
          <path d="M242.624 335.629C256.551 335.629 267.882 324.298 267.882 310.371C267.882 296.444 256.551 285.113 242.624 285.113C228.697 285.113 217.366 296.444 217.366 310.371C217.366 324.299 228.696 335.629 242.624 335.629ZM242.624 300.487C248.074 300.487 252.509 304.922 252.509 310.372C252.509 315.822 248.074 320.257 242.624 320.257C237.173 320.257 232.739 315.822 232.739 310.372C232.739 304.922 237.172 300.487 242.624 300.487Z" fill="#FED7D7"/>
          <path d="M275.356 257.75C275.356 270.124 285.424 280.192 297.798 280.192C310.172 280.192 320.24 270.124 320.24 257.75C320.24 245.376 310.172 235.308 297.798 235.308C285.424 235.308 275.356 245.375 275.356 257.75ZM297.798 250.68C301.696 250.68 304.867 253.851 304.867 257.749C304.867 261.647 301.696 264.818 297.798 264.818C293.9 264.818 290.729 261.647 290.729 257.749C290.729 253.851 293.899 250.68 297.798 250.68Z" fill="#FED7D7"/>
        </g>
        <defs>
          <clipPath id="clip0">
            <rect width="512" height="512" fill="white"/>
          </clipPath>
        </defs>
      </svg>

    </div>
  </div>
</template>

<script>
import vClickOutside from 'v-click-outside'
import Notification from '@/components/Notification.vue'

export default {
  directives: {
    clickOutside: vClickOutside.directive
  },
  components: {
    Notification
  },
  data() {
    return {
      isMobileNavActive: false
    }
  },
  methods: {
    onClickOutside () {
      this.isMobileNavActive = false
    }
  }
}
</script>

<style>
.nav-link::after {
  content: '';
  position: absolute;
  bottom: 0;
  right: 50%;
  opacity: 0;
  width: 6px;
  height: 6px;
  border-radius: 6px;
  background-color: #FF5A6F;
  transition: all 200ms ease-in-out;
}

.nuxt-link-active.nav-link::after,
.nav-link:hover::after {
  opacity: 1;
}

.mobile-navbar-container {
  -webkit-tap-highlight-color: transparent;
}

.mobile-nav-link::after {
  content: '';
  position: absolute;
  right: -5%;
  top: 45%;
  opacity: 0;
  width: 6px;
  height: 6px;
  border-radius: 6px;
  background-color: #FF5A6F;
  transition: all 200ms ease-in-out;
}

.nuxt-link-active.mobile-nav-link::after,
.mobile-nav-link:hover::after {
  opacity: 1;
}

.fade-enter-active, .fade-leave-active {
  transition: opacity .5s;
}

.fade-enter, .fade-leave-to {
  opacity: 0;
}

.virus-illustration {
  right: -125px;
  bottom: -125px;
}
</style>
